

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Scripts API &mdash; energy-balance-1-software  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Scripts" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> energy-balance-1-software
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scripts API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">energy-balance-1-software</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Scripts API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/scripts-api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scripts-api">
<h1>Scripts API<a class="headerlink" href="#scripts-api" title="Permalink to this headline">¶</a></h1>
<p><strong>1. download_data:</strong></p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">scripts.download_data.</span></span><span class="sig-name descname"><span class="pre">get_todays_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/download_data.html#get_todays_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Gets all the data for the specified table from the start of the day i.e. 00:00</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – (str) URL for connection with logger in format ‘<a class="reference external" href="tcp:iphost:port">tcp:iphost:port</a>’ or ‘serial:/dev/ttyUSB0:19200:8N1’</p></li>
<li><p><strong>table</strong> – (str) The name of the table on the logger from which the data is being extracted.</p></li>
<li><p><strong>csv_path</strong> – (str) The path to the csv file to back fill with todays data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">scripts.download_data.</span></span><span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/download_data.html#log"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Extract the data from the campbell data logger for each specified table and save to a daily csv file.
This will backfill the file to get all data from the start of the day or update from the latest data entry if data already exists in the file.
Default tables are: Housekeeping, GPS_datetime, SoilTemperature, SoilMoisture, SoilHeatFlux and Radiation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – (str) URL for connection with logger in format ‘<a class="reference external" href="tcp:iphost:port">tcp:iphost:port</a>’ or ‘serial:/dev/ttyUSB0:19200:8N1’</p></li>
<li><p><strong>dir_path</strong> – (str) The path to the top level directory in which to create the csv files and folders.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p><strong>2. download_data_by_date:</strong></p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">scripts.download_data_by_date.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/download_data_by_date.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Extract data from the campbell data logger for each specified table and save to a daily csv file between the date ranges specified.
Default tables are: Housekeeping, GPS_datetime, SoilTemperature, SoilMoisture, SoilHeatFlux and Radiation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – (str) URL for connection with logger in format ‘<a class="reference external" href="tcp:iphost:port">tcp:iphost:port</a>’ or ‘serial:/dev/ttyUSB0:19200:8N1’</p></li>
<li><p><strong>start_date</strong> – (datetime.datetime) The start date from which to collect data</p></li>
<li><p><strong>end_date</strong> – (datetime.datetime) The end date after which to stop collecting data. (the end date will be included in the data.)</p></li>
<li><p><strong>dir_path</strong> – (str) The path to the top level directory in which to create the csv files and folders.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">scripts.download_data_by_date.</span></span><span class="sig-name descname"><span class="pre">get_data_from_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/download_data_by_date.html#get_data_from_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Gets range of data specified by start and end dates and saves to csv at the path specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> – (pycampbellcr1000.CR1000 object) URL for connection with logger in format ‘<a class="reference external" href="tcp:iphost:port">tcp:iphost:port</a>’ or ‘serial:/dev/ttyUSB0:19200:8N1’</p></li>
<li><p><strong>table</strong> – (str) The name of the table on the logger from which the data is being extracted.</p></li>
<li><p><strong>csv_path</strong> – (str) The path to the csv file to back fill with todays data.</p></li>
<li><p><strong>start</strong> – (datetime.datetime) The start datetime from which to collect data</p></li>
<li><p><strong>end</strong> – (datetime.datetime) The end datetime after which to stop collecting data. (end will be included in the data.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p><strong>3. add_to_mysql:</strong></p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">scripts.add_to_mysql.</span></span><span class="sig-name descname"><span class="pre">insert_into_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">database</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/add_to_mysql.html#insert_into_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Gets data from the csv files found in the specified directory path and inserts it into MySQL tables.
The MySQL tables must have been created proir to running this.
The default names used to map the logger tables to MySQL tables are:
{‘Housekeeping’: ‘housekeeping’, ‘GPS_datetime’: ‘gps’, ‘SoilTemperature’: ‘soil_temp’, ‘SoilMoisture’: ‘soil_moisture’, ‘SoilHeatFlux’: ‘soil_heat_flux’, ‘Radiation’: ‘radiation’}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – (str) The username for connecting to MySQL.</p></li>
<li><p><strong>password</strong> – (str) The password for connecting to MySQL.</p></li>
<li><p><strong>database</strong> – (str) The names of the database in which the tables exist.</p></li>
<li><p><strong>dir_path</strong> – (str) The path to the top level directory in which the csv files and folders were created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="scripts.html" class="btn btn-neutral float-left" title="Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Elle Smith.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>